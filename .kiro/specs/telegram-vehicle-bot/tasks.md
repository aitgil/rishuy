# תכנית מימוש - בוט טלגרם לחיפוש רכבים

- [x] 1. הקמת מבנה הפרויקט והגדרות בסיסיות
  - יצירת מבנה תיקיות עבור src, tests, config
  - הגדרת package.json עם התלויות הנדרשות (node-telegram-bot-api, axios, dotenv)
  - יצירת קובץ .env.example עם משתני סביבה נדרשים
  - הגדרת ESLint ו-Prettier לקוד נקי
  - _דרישות: 8.1, 8.2, 8.3_

- [x] 2. יצירת מודלי נתונים בסיסיים
  - מימוש VehicleData class עם כל השדות הנדרשים
  - מימוש UserSettings class עם הגדרות ברירת מחדל
  - יצירת פונקציות המרה לתצוגה בעברית
  - כתיבת unit tests למודלי הנתונים
  - _דרישות: 7.1, 7.2, 7.3, 7.4_

- [x] 3. מימוש שירות נתוני רכב
  - יצירת VehicleDataService class
  - מימוש פונקציית חיפוש רכב ב-API הממשלתי
  - מימוש פונקציית בדיקת תו נכה
  - הוספת retry logic ו-error handling
  - כתיבת unit tests לשירות הנתונים
  - _דרישות: 1.1, 1.2, 1.3, 2.1, 2.2, 4.2_

- [x] 4. מימוש מנהל הגדרות משתמש
  - יצירת UserSettingsService class
  - מימוש שמירה וטעינה של הגדרות משתמש
  - מימוש הגדרות ברירת מחדל
  - הוספת פונקציות עדכון והחזרה להגדרות ברירת מחדל
  - כתיבת unit tests למנהל ההגדרות
  - _דרישות: 7.1, 7.2, 7.3, 7.4, 7.5_

- [x] 5. מימוש מעצב הודעות בעברית
  - יצירת MessageFormatter class
  - מימוש פונקציות עיצוב הודעות בעברית
  - יצירת תבניות הודעות לכל סוגי התגובות
  - מימוש יצירת כפתורים אינטראקטיביים בעברית
  - כתיבת unit tests למעצב ההודעות
  - _דרישות: 6.1, 6.2, 6.3, 6.4, 3.1, 3.5_

- [x] 6. מימוש מטפל שגיאות
  - יצירת ErrorHandler class
  - מימוש הודעות שגיאה בעברית
  - הוספת טיפול בכל סוגי השגיאות האפשריות
  - מימוש כפתורי "נסה שוב" לשגיאות זמניות
  - כתיבת unit tests למטפל השגיאות
  - _דרישות: 4.1, 4.2, 4.3, 4.4, 6.3_

- [x] 7. מימוש מנתב הודעות
  - יצירת MessageRouter class
  - מימוש זיהוי סוג הודעה (מספר רישוי, פקודות, כפתורים)
  - הוספת validation למספרי רישוי ישראליים
  - מימוש ניתוב לטיפול המתאים
  - כתיבת unit tests למנתב ההודעות
  - _דרישות: 1.4, 3.1, 3.7_

- [x] 8. מימוש מטפל פקודות בסיסיות
  - מימוש טיפול בפקודת /start עם תפריט ראשי
  - מימוש טיפול בפקודת /help עם הוראות שימוש
  - יצירת כפתורים אינטראקטיביים לתפריט הראשי
  - מימוש הודעות ברוכים הבאים בעברית
  - כתיבת unit tests למטפל הפקודות
  - _דרישות: 3.6, 3.7, 6.1, 6.4_

- [x] 9. מימוש מטפל חיפוש רכב
  - יצירת LicensePlateHandler class
  - מימוש תהליך החיפוש עם הודעת "מחפש..."
  - מימוש עדכון הודעה דינמי עם תוצאות החיפוש
  - הוספת כפתורים לפעולות נוספות (חיפוש חדש, הגדרות)
  - כתיבת unit tests למטפל החיפוש
  - _דרישות: 1.1, 1.2, 1.3, 2.1, 2.2, 3.3, 3.4, 5.2_

- [x] 10. מימוש מטפל הגדרות
  - יצירת SettingsHandler class
  - מימוש תפריט הגדרות עם כפתורים אינטראקטיביים
  - מימוש בחירת שדות תצוגה עם checkboxes
  - מימוש שמירת הגדרות ואישור שינויים
  - כתיבת unit tests למטפל ההגדרות
  - _דרישות: 7.1, 7.2, 7.3, 7.4, 7.5_

- [x] 11. מימוש מנהל הבוט הראשי
  - יצירת BotHandler class
  - חיבור כל הרכיבים יחד
  - מימוש polling או webhook לקבלת הודעות
  - הוספת logging ומעקב ביצועים
  - כתיבת integration tests למנהל הבוט
  - _דרישות: 8.1, 8.2, 8.3, 5.1_

- [x] 12. הוספת תכונות ביצועים ואבטחה
  - מימוש rate limiting למשתמשים
  - הוספת caching לתוצאות חיפוש
  - מימוש input validation ו-sanitization
  - הוספת timeout לבקשות API
  - כתיבת security tests
  - _דרישות: 4.3, 5.1, 5.3_

- [x] 13. כתיבת בדיקות אינטגרציה
  - בדיקת אינטגרציה עם Telegram API
  - בדיקת אינטגרציה עם Israeli Government API
  - בדיקת זרימת עבודה מלאה מחיפוש ועד תצוגה
  - בדיקת טיפול בשגיאות ברמת המערכת
  - _דרישות: כל הדרישות_

- [x] 14. הגדרת סביבת פריסה
  - יצירת Dockerfile למיכל
  - הגדרת docker-compose לפיתוח מקומי
  - יצירת סקריפטים להפעלה ועצירה
  - הוספת health checks ומעקב
  - _דרישות: 8.1, 8.2, 8.3_

- [x] 15. תיעוד ובדיקות סופיות
  - כתיבת README עם הוראות התקנה והפעלה
  - יצירת דוגמאות שימוש
  - הרצת כל הבדיקות והבטחת כיסוי מלא
  - בדיקה ידנית של כל התכונות
  - _דרישות: כל הדרישות_